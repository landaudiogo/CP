import numpy as np
from functools import reduce


def bigger(elem, comp):
    """Compares list elements, and returns true if comp is bigger False
    otherwise.

    """
    for i, c in enumerate(comp):
        if c > elem[i]:
            return True
        elif c < elem[i]:
            return False
    return False
    

def quicksort(l):
    """Implementation of Quicksort

    Steps:
    1. Choose the pivot
    2. Determine whether each element goes to the left or right of the pivot
    element.
    3. After having seperated the list, with elements to the left and right, go
    through steps 1 and 2 until the list is sorted.
    4. Extend the elements to the right, to the pivot, and extend this resulting
    list to the elements at the left.
    """
    if len(l) == 1:
        return l

    pivot, left, right = l[0], [], []
    for elem in l[1:]:
        if bigger(pivot, elem):
            right.append(elem)
        else:
            left.append(elem)
    if left:
        left = quicksort(left)
    if right:
        right = quicksort(right)
    right.insert(0, pivot)
    left.extend(right)
    return left

def orientation(*points):
    """Computes the orientation between the three points passed as arguments"""
    [pa, pb, pc] = points
    return max(
        min(
            np.linalg.det(
                [[1, *pa], 
                 [1, *pb], 
                 [1, *pc]]
            ), 
            1
        ), 
        -1
    )

def hull_method(point_list):
    """
    Top hull requires the orientation to be negative, and bottom hull requires
    the orientation to be positive
    """
    sorted_list = quicksort(point_list)
    top_hull, bottom_hull = [sorted_list[0]], [sorted_list[0]]
    for point in sorted_list[1:]: 
        while len(top_hull) > 1:
            ang = orientation(*top_hull[-2:], point)
            if ang > 1e-9:
                top_hull.pop()
            elif ang < -1e-9:
                top_hull.append(point)
            else:
                top_hull.pop()
                top_hull.append(point)
                break
        if len(top_hull) == 1:
            top_hull.append(point)

        while len(bottom_hull) > 1:
            ang = orientation(*bottom_hull[-2:], point)
            if ang < -1e-9:
                bottom_hull.pop()
            elif ang > 1e-9:
                bottom_hull.append(point)
            else:
                bottom_hull.pop()
                bottom_hull.append(point)
                break
            pass
        if len(bottom_hull) == 1:
            bottom_hull.append(point)

    return top_hull, bottom_hull

def convex_hull_area(s):
    if len(s) < 3: 
        return 0
    points_list = list(s)
    top_hull, bottom_hull = hull_method(points_list)
    sum_coords = reduce(
        lambda acc, coord: [acc[0]+coord[0], acc[1]+coord[1]],
        [*top_hull, *bottom_hull]
    )
    center_mass = [
        sum_coords[0]/(len(top_hull)+len(bottom_hull)-2), 
        sum_coords[1]/(len(top_hull)+len(bottom_hull)-2)
    ]
    pairs1 = (zip(top_hull, top_hull[1:])
        if len(top_hull) > 2 else []
    )
    pairs2 = zip(bottom_hull, bottom_hull[1:]) 
    area = 0 
    for coord1, coord2 in pairs1:
        v1 = np.array(list(map(lambda c1, c2: c1-c2, coord1, coord2)))
        base = np.linalg.norm(v1)
        v1_norm = v1/base

        v2 = np.array(list(map(lambda c1, c2: c1-c2, coord1, center_mass)))
        height = np.linalg.norm(v2-v1_norm.dot(v2)*v1_norm)
        curr = height*base/2
        area += curr if curr > 1e-6 else 0

    for coord1, coord2 in pairs2:
        v1 = np.array(list(map(lambda c1, c2: c1-c2, coord1, coord2)))
        base = np.linalg.norm(v1)
        v1_norm = v1/base

        v2 = np.array(list(map(lambda c1, c2: c1-c2, coord1, center_mass)))
        height = np.linalg.norm(v2-v1_norm.dot(v2)*v1_norm)
        curr = height*base/2
        area += curr if curr > 1e-6 else 0

    return round(area, 2)

def hull_method_1(pointList):
    pass


print(convex_hull_area({(-0.9793606896089245, 0.2021203593127912), (0.8959843338731037, -0.4440856600409099), (-0.9439940860834779, 0.32996236973239734), (-0.7984780389030323, -0.6020239375552833), (0.4638021630104179, 0.8859387978787574), (-0.25810163593826746, -0.9661177700083929), (-0.9317223617435201, 0.363171365373259), (0.4871876750070059, -0.8732972972139946), (-0.5984600690578581, -0.8011526357338304), (-0.7055510066862999, 0.7086591401823227), (0.8577875993070563, 0.5140043136735694), (0.9974939203271522, 0.07075223608034517), (0.9923317436681922, 0.12360303600011291), (0.9827795820412206, 0.18478174456066745), (0.09280621889587708, -0.9956841897581032), (0.47165229356133864, -0.8817846188147811), (-0.9601618634146094, -0.27944444178438205), (0.8667520572726362, 0.49873928180328125), (0.9672429364932829, 0.253852519790234), (0.9625976995964054, 0.2709348053161655), (0.591345375451585, 0.8064184068658304), (-0.013276747223059479, 0.9999118601072672), (0.33416538263076073, -0.9425144545582509), (-0.5697255608391865, -0.8218350110128397), (0.424179007336997, -0.9055783620066238), (0.569750334265312, -0.8218178366308225), (0.9074467814501962, 0.4201670368266409), (-0.9626058663135666, 0.27090578830786904), (0.9968309933617175, -0.0795485428747221), (0.9550736440472949, 0.2963685787093853), (0.26664293235993725, 0.9637953862840878), (-0.9985916721566993, 0.05305348526993529), (0.5403023058681398, 0.8414709848078965), (-0.7361927182273159, -0.6767719568873076), (0.9990221465276736, -0.04421256322855966), (0.9736488930495181, -0.2280522595008612), (0.9468777054203809, -0.3215938602925038), (-0.4480736161291701, 0.8939966636005579), (0.911117838425468, 0.412145950487085), (-0.9736420181192547, -0.22808160941352784), (0.9576681585475916, -0.2878744485084861), (-0.49489841458940237, 0.8689508382163493), (-0.7117747556357236, -0.702407785577371), (-0.6125482394960996, -0.7904332067228887), (0.19778402522372224, 0.9802456219572225), (-0.6992292566729736, -0.7148975077677643), (-0.7179850839697136, 0.6960584883449115), (0.3089940590981371, 0.9510639681125854), (-0.3258098052199642, 0.9454353340247703), (0.9649660284921133, -0.26237485370392877), (0.3005925437436371, -0.9537526527594719), (0.4559691044442761, -0.8899956043668333), (-0.8879689066918555, -0.45990349068959124), (-0.68646463135462, -0.727163193443649), (0.07516615000819327, -0.997171023392149), (-0.31740011602352985, -0.9482917095220488), (0.1629610394708834, 0.9866325048439105), (0.7480775341634341, -0.6636113342009432), (-0.9380052012169503, 0.346621180094276), (-0.577002178942952, 0.8167426066363169), (0.23235910202965793, 0.972630067242408), (0.4948722204034305, 0.8689657562142357), (-0.03979075993115771, -0.9992080341070627), (0.8711474010323434, -0.49102159389846933), (-0.3672913304546965, -0.9301059501867618), (-0.9998438418065069, 0.01767178546737087), (0.022126756261955736, -0.9997551733586199), (0.3837262818331512, -0.9234468802429867), (-0.17168764515577298, -0.9851514363288851), (0.5328585288581931, -0.8462043418838515), (-0.5253476385155728, 0.8508876886558596), (-0.27516333805159693, -0.9613974918795568), (-0.955082577452527, 0.2963397884973224), (0.8879827697817493, -0.4598767232321427), (0.9996482558795381, -0.026521020285755953), (0.9998433086476912, 0.017701925105413577), (0.9980829609135574, -0.06189025071872073), (0.8390879278598296, -0.5439958173735323), (-0.7710802229758452, 0.6367380071391379), (0.7596683100072248, 0.6503107401625525), (0.879702927248347, -0.47552366901205834), (-0.9899924966004454, 0.1411200080598672), (0.7539022543433046, 0.6569865987187891), (-0.8998799744648526, 0.43613762914604876), (-0.6469423088661069, 0.7625389491684939), (0.8438539587324921, -0.5365729180004349), (0.4161194261751267, 0.9093099708898409), (0.7984961861625556, -0.6019998676776046), (-0.540327671221366, 0.8414546973619527), (0.004425697988050785, -0.9999902065507035), (-0.982785151720906, 0.184752119221718), (-0.8667670910519801, 0.4987131538963941), (0.8193055291449822, -0.5733571748155426), (-0.9911988217552068, -0.13238162920545193), (0.9899967501220404, -0.14109016531210986), (-0.5550882279566576, -0.8317914757822045), (0.5101770449416689, 0.8600694058124532), (0.3507973420904214, -0.936451400117644), (-0.8838774731823718, 0.46771851834275896), (-0.9943674609282015, 0.10598751175115685), (0.8293266768209027, -0.5587640495890891), (-0.47162571251991114, -0.8817988360675502), (0.9756226979194443, 0.21945466799406363), (0.7241179868699296, -0.6896761131802671), (-0.2666719852274808, 0.9637873480674221), (-0.8243483956816764, 0.5660827877060441), (0.08395943674184847, 0.9964691731217737), (0.9217512697247493, -0.38778163540943045), (-0.6401443394691997, -0.7682546613236668), (-0.999020813314648, -0.044242678085070965), (0.9843819506325049, -0.1760459464712114), (-0.8920184954079421, 0.45199889806298343), (0.9251360931462582, 0.37963562682930313), (0.5624289267667438, 0.8268456339220814), (0.11041720391967796, -0.9938853259197261), (-0.9111302618846769, 0.4121184852417566), (0.7822121099422712, 0.623012211003653), (-0.15422166624309427, -0.9880362734541701), (-0.9859016259639831, 0.16732598101183924), (0.5551133015206257, -0.8317747426285983), (-0.8037933932096717, 0.594908548461427), (-0.7931364191664784, 0.6090440218832924), (-0.9968285949694307, -0.07957859166428352), (0.4000129427560235, -0.9165094902005468), (0.12799358610147818, -0.9917749956098326), (0.6992508064783751, -0.7148764296291646), (-0.24956930858045798, 0.9683569384347241), (-0.4161468365471424, 0.9092974268256817), (0.8141809705265618, 0.5806111842123143), (-0.99964745596635, -0.026551154023966794), (0.8754448901342752, 0.48331795366796265), (0.8623188722876839, -0.5063656411097588), (0.5253219888177297, 0.8509035245341184), (0.9147423578045313, -0.404037645323065), (1.0, 0.0), (0.10158570369662134, 0.9948267913584063), (0.987344058653017, -0.15859290602857282), (-0.08398947462256867, 0.9964666417661079), (-0.48716134980334147, -0.8733119827746476), (-0.11921006489861569, 0.992869055025318), (0.8998668269691937, 0.43616475524782494), (-0.787695941645058, -0.6160642040533645), (0.5477040395322043, 0.8366721491002946), (0.7055296442942061, 0.7086804082392084), (-0.28363327918216646, -0.9589328250406132), (-0.875459459043705, 0.48329156372825655), (0.9349004048997503, -0.35491017584493534), (0.9985900724399912, 0.05308358714605824), (0.9933903797222716, -0.11478481378318722), (0.35904428689111606, 0.933320523748862), (-0.4401159548467677, -0.8979409481081247), (0.14547021017792156, 0.9893626321783087), (-0.9036922050915067, -0.428182669496151), (-0.8141984723053474, 0.5805866409896446), (-0.8438377837054513, -0.5365983551885637), (-0.8485702747846052, 0.5290826861200238), (-0.9182827862121189, 0.39592515018183416), (0.0398208803931389, -0.9992068341863537), (-0.8342399825282196, 0.551401533867395), (0.6055278749869898, 0.7958240965274552), (-0.9649581189333869, -0.2624039418616639), (-0.5328330203333975, -0.8462204041751706), (0.20648222933781113, -0.9784503507933796), (-0.9933869191569467, -0.11481475884166603), (-0.3005637933500832, -0.9537617134939987), (0.47941231147032193, 0.8775897877771157), (0.24098830528525864, -0.9705280195418053), (0.7931180595679168, 0.6090679301910603), (-0.33413697099017103, -0.9425245273294025), (-0.9410263090291437, -0.3383333943242765), (-0.7240971967004738, -0.689697940935389), (0.9379947521194415, 0.3466494554970303), (-0.510202970945957, 0.8600540264645697), (-0.9715921906288022, 0.23666139336428604), (0.9960851708717215, 0.08839871248753149), (0.9999610927573088, -0.008821166113885877), (-0.6536436208636119, -0.7568024953079282), (-0.9993743503000143, 0.035368177256176046), (0.7654140519453434, -0.6435381333569995), (0.9715850561826999, 0.2366906812750767), (-0.424151709070136, -0.9055911481970673), (0.5025703802614231, -0.8645362993442719), (0.44804666697426215, 0.8940101700837942), (0.7877145121442345, -0.6160404591886565), (0.36731936773024515, -0.9300948780045254), (-0.9952637062792294, -0.09721190751822432), (-0.8711325991081119, -0.491047853850463), (0.6469193223286404, 0.7625584504796027), (-0.8796885924951523, -0.47555018687189876), (-0.40810958177221934, 0.9129329489429682), (0.9182708508872743, 0.39595283104274065), (-0.23238842122852268, 0.9726230624856244), (-0.626444447910339, -0.7794660696158047), (0.7421541968137826, 0.6702291758433747), (-0.20645273449087873, -0.9784565746221131), (-0.24095904923620143, -0.9705352835374847), (0.40808206181339196, 0.9129452507276277), (-0.9496871395301657, 0.3132001548706699), (0.43215076086181514, 0.9018013749637745), (0.6735071623235862, -0.7391806966492228), (-0.9576594803233847, -0.2879033166650653), (0.22377033018717848, -0.97464190312541), (0.048633500538969116, 0.9988166912028082), (0.9858965815825497, 0.16735570030280691), (0.05750252534912421, -0.9983453608739179), (-0.5841843515845697, -0.8116209973649745), (0.5842088171092893, -0.8116033871367005), (0.6333192030862999, 0.7738906815578891), (-0.9775269404025313, -0.2108105329134813), (0.9496776978825432, 0.31322878243308516), (-0.8959709467909631, -0.4441126687075084), (0.5177955886508133, -0.8555043707508208), (-0.04866360920015389, 0.9988152247235795), (-0.9960878351411849, 0.08836868610400143), (0.7766859820216312, -0.6298879942744539), (-0.9147301779353751, -0.4040652194563607), (-0.4559422758951242, -0.8900093488562771), (-0.8192882452914593, -0.5733818719904229), (-0.999999999545659, -3.014435335948845e-05), (-0.9999608263946371, -0.008851309290403876), (-0.6734848798934681, -0.739200998751274), (0.2751923186322931, -0.9613891968218607), (0.2921099792671752, 0.9563847343054627), (-0.9672505882738824, 0.25382336276203626), (0.9524221683015063, -0.30478191109030295), (-0.9923354691509287, 0.123573122745224), (-0.9251475365964139, 0.3796077390275217), (0.6928740863898232, 0.7210585970706318), (-0.7822308898871159, 0.6229886314423488), (-0.7539220584369601, 0.6569638725243396), (-0.8390715290764524, -0.5440211108893698), (-0.9811055226493881, -0.19347339203846847), (-0.7301941571456378, 0.6832397038158508), (-0.10161569206079699, 0.9948237286710673), (0.39185723042955, 0.9200260381967907), (0.3755095977670121, 0.926818505417785), (-0.9348897059372352, -0.3549383576518463), (0.15425144988758405, -0.9880316240928618), (0.9284713207390763, -0.3714041014380902), (-0.9756293127952373, 0.21942525837900473), (0.7301735609948197, 0.683261714736121), (0.9439841391523142, 0.329990825673782), (-0.562453851238172, 0.8268286794901034), (-0.6195442750039529, 0.7849617132764033), (-0.8532043855172293, -0.5215767216183704), (0.18040079959254857, 0.9835931839466808), (0.7362131187458456, -0.6767497645263835), (0.8838633737085002, 0.4677451620451334), (0.717964101410472, 0.6960801312247415), (0.9317114137542325, 0.36319945137636067), (0.6603167082440802, -0.7509872467716762), (-0.9980810948185003, -0.06192033725605731), (0.9912028118634736, -0.13235175009777303), (0.11918013544881928, 0.9928726480845371), (-0.21513470736462095, 0.9765843832906294), (0.6536208072447929, 0.7568221986283603), (-0.5477292602242684, 0.8366556385360561), (-0.8623036078310824, -0.5063916349244909), (0.6800013937302882, 0.7332108186087175), (0.9775332947055968, -0.21078106590019152), (0.9694593666699876, -0.24525198546765434), (-0.6928958219201651, 0.7210377105017316), (-0.09277620459766088, -0.9956869868891794), (0.06630685835171127, 0.9977992786806003), (0.5984842190140996, -0.8011345951780408), (0.28366218546322625, -0.9589242746631385), (-0.19781357400426822, 0.9802396594403116), (-0.5177697997895051, -0.8555199789753223), (0.1891294205289584, -0.9819521690440836), (0.853220107722584, -0.5215510020869119), (-0.6333425312327234, 0.7738715902084317), (0.3424664577455166, 0.9395300555699313), (-0.7480575296890004, -0.6636338842129675), (-0.2921388087338362, 0.956375928404503), (0.8090276252864301, -0.5877706198198406), (0.9993732836951247, 0.03539830273366068), (-0.057472430847665464, -0.9983470937967718), (-0.8293098328631502, -0.5587890488516163), (0.6669156003948422, 0.7451332645574127), (0.9943642655514137, 0.10601748626711377), (-0.9524129804151563, -0.3048106211022167), (-0.907459446701534, 0.4201396822393068), (0.1367372182078336, 0.9906073556948704), (0.4161742465410129, -0.9092848819352602), (0.2581307588164473, -0.9661099892625297), (-0.004395553927897717, -0.9999903395061709), (-0.7596879128588213, 0.6502878401571168), (-0.9873392775238264, -0.158622668804709), (0.6401674977183369, -0.7682353642374471), (0.8342233605065102, 0.5514266812416906), (0.6864865509069841, -0.7271425000808526), (-0.7653946525566921, -0.6435612059762619), (0.9899882421792622, 0.14114985067939137), (-0.6800234955873388, 0.7331903200732922), (0.6195206125592099, 0.7849803886813105), (-0.34249477911590703, 0.9395197317131483), (-0.5402769400239504, -0.8414872714892108), (0.7710610285700272, 0.6367612505645516), (-0.3090227281660707, 0.9510546532543747), (0.32578130553514806, 0.9454451549211168), (0.6264679441263539, -0.7794471854988634), (-0.4321779448847783, 0.9017883476488092), (-0.9468680107512125, -0.32162240316253093), (-0.3918849638415085, 0.9200142254959646), (-0.35907242107165305, 0.9333097001669604), (-0.39998531498835127, -0.9165215479156338), (-0.022096619278683942, -0.9997558399011495), (0.31742870151970165, -0.9482821412699473), (-0.3755375359409301, 0.9268071855026884), (-0.38369844494974187, -0.9234584470040598), (-0.7421744001016999, 0.6702068037805061), (-0.18043044929108396, 0.9835877454343449), (0.8243313311075577, 0.5661076368981803), (-0.11038724383904756, -0.9938886539233752), (0.903705111970614, -0.42815542808445156), (-0.8578030932449878, 0.5139784559875352), (-0.9843766433940419, -0.1760756199485871), (0.9410365074429887, -0.3383050275409778), (0.960170286650366, -0.27941549819892586), (-0.9217395798793158, -0.3878094208292295), (-0.16299078079570548, 0.9866275920404853), (-0.6669380616522619, 0.7451131604793488), (-0.22374095013558368, -0.9746486480944947), (0.8485543255436181, 0.5291082654818533), (0.6125720663156844, -0.7904147414931815), (-0.5025443191453852, -0.8645514486106083), (0.24954011797333814, 0.9683644611001854), (-0.3507691132091307, -0.9364619742512132), (0.5769775585030581, 0.8167599996228085), (-0.9694519732670104, -0.24528120908194284), (-0.9284601245807608, -0.37143208943692263), (-0.13676707936387883, 0.9906032333897737), (0.21510526876214117, 0.9765908679435658), (-0.6055518643146514, 0.7958058429196471), (0.8920048697881602, 0.45202578717835057), (0.9887046181866692, 0.14987720966295234), (0.17171734183077755, -0.9851462604682474), (0.030944901828293042, 0.99952109184891), (-0.4638288688518717, 0.8859248164599484), (-0.9887091356890289, 0.14984740573347818), (0.9952666362171313, -0.09718190589320902), (-0.5913696841443247, 0.8064005807754863), (-0.8090099069535975, -0.5877950071674065), (0.803775459710974, 0.5949327780232085), (-0.4794387656291727, 0.8775753358042688), (-0.660294069919136, -0.7510071512506543), (0.6536664338884767, -0.7567827912998033), (-0.12796368962740468, -0.9917788534431158), (0.4401430224960407, -0.8979276806892913), (-0.06633693633562374, 0.9977972794498907), (-0.03097503173121646, 0.9995201585807313), (-0.07513609089835323, -0.9971732887740798), (-0.9974960526543551, 0.07072216723899125), (0.9793545963764285, 0.20214988141565363), (0.711795928940826, -0.7023863292684921), (-0.7766669941024745, -0.6299114066849614), (-0.14550003380861354, 0.9893582466233818), (0.9811113543339269, -0.19344381715900788), (0.01324660552058789, 0.9999122598719259), (-0.18909982012986337, -0.9819578697820255)}))
